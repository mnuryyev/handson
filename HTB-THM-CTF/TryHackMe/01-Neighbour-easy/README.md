

**Insecure Direct Object Reference (IDOR)** - это классическая уязвимость категории **Broken Access Control (A01 в OWASP Top 10 2021)**, при которой приложение позволяет пользователю напрямую обращаться к внутренним объектам системы (профили, файлы, записи в базе данных) путём изменения параметров запроса, при этом сервер не выполняет проверку прав доступа.

Фактически приложение доверяет данным, полученным от клиента, и не контролирует, имеет ли пользователь право запрашивать конкретный объект. В результате злоумышленник может изменить идентификатор в запросе и получить доступ к чужим данным.

В рамках данной работы мы рассмотрим уязвимость **IDOR** на примере простой веб-машины **Neighbour** с платформы TryHackMe. Развернём лабораторную среду и последовательно пройдём путь от этапа разведки до получения флага администратора.

## Фаза 1. Разведка и доступ к приложению


![01_intro](screens/01_intro.png)

![02_intro](screens/02_intro.png)

Машина **Neighbour** это веб-приложение под названием "Authentication Anywhere", которое якобы позволяет безопасно логиниться откуда угодно.

Приложение используется для проверки контроля доступа. Необходимо определить, можно ли получить доступ к чужим профилям и данным через изменение параметров запросов, что соответствует уязвимости типа **IDOR**.

## Шаг 1. Доступ к целевому IP

После запуска виртуальной машины получаем целевой IP‑адрес, ***10.10.138.87***.

![03_login_page](screens/03_login_page.png)

Открываем браузер и переходим по адресу: **http://10.10.138.87**

![04_guest](screens/04_guest.png)

Нас встречает страница логина с двумя полями: Username и Password. Под формой мелким шрифтом подсказка:
Don't have an account? Use the guest account! (Ctrl+U)

![05_guest_page](screens/05_guest_page.png)

![06_admin](screens/06_admin.png)

![07_flag](screens/07_flag.png)

